<!-- User login page -->
<!DOCTYPE html>

<head>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/style.css">
    <script src="/scripts/password.js"></script>
    <script src="/scripts/api/client.account.controller.js"></script>
    <script src="/scripts/config/config.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="616876382894-b7reoativof6s609fk02vtoviqkjjh3t.apps.googleusercontent.com">
</head>

<div class="topnav">
    <a class="top-buttons" href="/client">Home</a>
    <a class="top-buttons" href="/client/add_recipe">Add Recipe</a>
    <a class="active top-buttons" href="/client/login_page">Account</a>
</div>

<div>
    <div class="container">
        <div class="header">
            <h1>Log in</h1>
        </div>
        <input class="login-field" type="text" id="loginUser" name="username" placeholder="Username">
        <input class="login-field" type="password" id="loginPwd" name="password" placeholder="Password">
        <input class="login-field" type="checkbox" onclick="togglePasswordLogin()">Show Password
        <p>
            Not registered?
            <a href="/client/registration_page">Create an account here</a>
        </p>

        <button id="loginSubmit" class="button loginButton" onclick="submitLogin();">LOG IN</button>
        
        <div class="g-signin2" data-onsuccess="onSignIn"></div>
    </div>
</div>

<body onload="loginCookieCheck()"></body>
<script>

function onSignIn(googleUser) {
    // Useful data for your client-side scripts:
    var profile = googleUser.getBasicProfile();
    console.log("ID: " + profile.getId()); // Don't send this directly to your server!
    console.log('Full Name: ' + profile.getName());
    console.log('Given Name: ' + profile.getGivenName());
    console.log('Family Name: ' + profile.getFamilyName());
    console.log("Image URL: " + profile.getImageUrl());
    console.log("Email: " + profile.getEmail());

    // The ID token you need to pass to your backend:
    var id_token = googleUser.getAuthResponse().id_token;
    console.log("ID Token: " + id_token);
  }
</script>

</HTML>